---
layout: post
title: 스트림 (Stream)
categories: [Java] 
---

거의 모든 자바 애플리케이션은 컬렉션을 만들고 처리하는 과정을 포함한다.  
많은 요소를 포함하는 커다란 컬렉션은 어떻게 처리해야 할까? 성능을 높이려면 병렬로 컬렉션의 요소를 처리해야 한다.  
하지만 병렬 처리 코드를 구현하는 것은 단순 반복 처리 코드에 비해 복잡하고 어렵다.

<br>

## 스트림이란 무엇인가?
스트림을 이용하면 선언형(데이터를 처리하는 임시 구현 코드 대신 질의로 표현)으로 컬렉션 데이터를 처리할 수 있다.  
또한, 멀티스레드 코드를 구현하지 않아도 데이터를 투명하게 병렬로 처리할 수 있다.

#### 스트림 API 특징
1. 선언형	- 더 간결하고 가독성이 좋아진다.
2. 조립 	- 유연성이 좋아진다.
3. 병렬화	- 성능이 좋아진다.

<br>

## 스트림 이용하기

- 질의를 수행할 데이터 소스
- 스트림 파이프라인을 구성할 중간 연산 연결
- 스트림 파이프라인을 실행하고 결과를 만들 최종 연산

<br>

#### 중간 연산

| 연산        | 반환 형식   | 연산의 인수       | 함수 디스크립터   |
|------------|:---------:|----------------|---------------|
| `filter`   | Stream<T> | Predicate<T>   | T -> boolean  |
| `map`      | Stream<T> | Function<T, R> | T -> R        |
| `limit`    | Stream<T> |                |               |
| `sorted`   | Stream<T> | Comparator<T>  | (T, T) -> int |
| `distinct` | Stream<T> |                |               |

#### 최종 연산

| 연산       | 목적                                           |
|-----------|-----------------------------------------------|
| `forEach` | 스트림의 각 요소를 소비하면서 람다를 적용한다. void 반환  |
| `count`   | 스트림의 요소 개수를 반환한다. long 반환              |
| `collect` | 스트림을 리듀스해서 리스트, 맵, 정수 형식의 컬렉션을 만든다 |